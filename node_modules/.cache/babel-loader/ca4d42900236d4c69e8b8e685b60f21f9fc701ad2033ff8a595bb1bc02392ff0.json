{"ast":null,"code":"import{useState,useEffect,useRef}from'react';import'../styles/Header.css';import{auth,provider}from'../firebase';import{signInWithPopup,signOut,onAuthStateChanged}from'firebase/auth';import logo from'../assets/logo.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){const[user,setUser]=useState(null);const[showProfileDropdown,setShowProfileDropdown]=useState(false);const dropdownRef=useRef(null);useEffect(()=>{const unsubscribe=onAuthStateChanged(auth,currentUser=>{setUser(currentUser);});// Close dropdown if clicked outside\nconst handleClickOutside=event=>{if(dropdownRef.current&&!dropdownRef.current.contains(event.target)){setShowProfileDropdown(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>{unsubscribe();document.removeEventListener('mousedown',handleClickOutside);};},[]);const handleLogin=async()=>{try{const result=await signInWithPopup(auth,provider);const user=result.user;setUser(user);alert(\"Welcome, \".concat(user.displayName,\"!\"));}catch(error){console.error('Sign-in error:',error.message);alert(\"Sign-in failed: \".concat(error.message));}};const handleLogout=async()=>{try{await signOut(auth);setUser(null);}catch(error){console.error('Logout error:',error.message);}};return/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"company-info\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Company Logo\",className:\"company-logo\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"CompanyName\",children:\"ASCORP\"}),/*#__PURE__*/_jsx(\"div\",{className:\"CompanySlogan\",children:\"Beyond Possibilities\"})]})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"nav-buttons\",ref:dropdownRef,children:user?/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:user.photoURL,alt:\"Profile\",className:\"profile-image\",onClick:()=>setShowProfileDropdown(prev=>!prev)}),showProfileDropdown&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile-dropdown\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:user.displayName})}),/*#__PURE__*/_jsx(\"p\",{children:user.email}),/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:handleLogout,children:\"Logout\"})]})]}):/*#__PURE__*/_jsx(\"button\",{className:\"nav-button login-button\",onClick:handleLogin,children:\"Login\"})})]});}export default Header;","map":{"version":3,"names":["useState","useEffect","useRef","auth","provider","signInWithPopup","signOut","onAuthStateChanged","logo","jsx","_jsx","jsxs","_jsxs","Header","user","setUser","showProfileDropdown","setShowProfileDropdown","dropdownRef","unsubscribe","currentUser","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleLogin","result","alert","concat","displayName","error","console","message","handleLogout","className","children","src","alt","ref","photoURL","onClick","prev","email"],"sources":["C:/Users/aryan/.vscode/ascorp/src/components/Header.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\r\nimport '../styles/Header.css';\r\nimport { auth, provider } from '../firebase';\r\nimport { signInWithPopup, signOut, onAuthStateChanged } from 'firebase/auth';\r\nimport logo from '../assets/logo.png';\r\n\r\nfunction Header() {\r\n  const [user, setUser] = useState(null);\r\n  const [showProfileDropdown, setShowProfileDropdown] = useState(false);\r\n  const dropdownRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\r\n      setUser(currentUser);\r\n    });\r\n\r\n    // Close dropdown if clicked outside\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n        setShowProfileDropdown(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      unsubscribe();\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const result = await signInWithPopup(auth, provider);\r\n      const user = result.user;\r\n      setUser(user);\r\n      alert(`Welcome, ${user.displayName}!`);\r\n    } catch (error) {\r\n      console.error('Sign-in error:', error.message);\r\n      alert(`Sign-in failed: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await signOut(auth);\r\n      setUser(null);\r\n    } catch (error) {\r\n      console.error('Logout error:', error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"company-info\">\r\n        <img src={logo} alt=\"Company Logo\" className=\"company-logo\" />\r\n        <div>\r\n          <div className=\"CompanyName\">ASCORP</div>\r\n          <div className=\"CompanySlogan\">Beyond Possibilities</div>\r\n        </div>\r\n      </div>\r\n\r\n      <nav className=\"nav-buttons\" ref={dropdownRef}>\r\n        {user ? (\r\n          <div className=\"profile-container\">\r\n            <img\r\n              src={user.photoURL}\r\n              alt=\"Profile\"\r\n              className=\"profile-image\"\r\n              onClick={() => setShowProfileDropdown(prev => !prev)}\r\n            />\r\n            {showProfileDropdown && (\r\n              <div className=\"profile-dropdown\">\r\n                <p><strong>{user.displayName}</strong></p>\r\n                <p>{user.email}</p>\r\n                <button className=\"logout-btn\" onClick={handleLogout}>Logout</button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <button className=\"nav-button login-button\" onClick={handleLogin}>\r\n            Login\r\n          </button>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}